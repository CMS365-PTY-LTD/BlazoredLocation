@page "/"
@using BlazoredLocation.Services
@using BlazoredLocationDemo.Shared.Services
@inject IFormFactor FormFactor

<PageTitle>Home</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app running on <em>@factor</em> using <em>@platform</em>.

@code {
    private string factor => FormFactor.GetFormFactor();
    private string platform => FormFactor.GetPlatform();


    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        await base.OnAfterRenderAsync(firstRender);
        if (firstRender)
        {
            try
            {
                BlazoredLocation.Entities.Geolocation geolocation = await FormFactor.GetGeolocation();
            }
            catch(Exception ex)
            {

            }
        }
    }
}